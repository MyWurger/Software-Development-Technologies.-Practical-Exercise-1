/*******************************************************************************
 * Лабораторная работа №1 по дисциплине "Программирование"                     *
 *-----------------------------------------------------------------------------*
 * Project Type  : Win64 Console Application                                   *
 * Project Name  : Функции и последовательности чисел                          *
 * File Name     : main.cpp                                                    *
 * Programmer(s) :                                                             *
 * Modifyed By   :                                                             *
 * Created       : 15/09/25                                                    *
 * Last Revision : 24/09/25                                                    *
 * Comment(s)    : Основная функция программы для работы с последовательностями*
 *                 чисел (упорядоченные и неупорядоченные массивы). Добавлена  *
 *                 поддержка экспоненциальных последовательностей              *
 *******************************************************************************/

#include "sequences.h"

// Функция для демонстрации ступенчатой последовательности
void demo_stupenchataya()
{
    cout << "===============================================" << endl;
    cout << "    ДЕМОНСТРАЦИЯ СТУПЕНЧАТОЙ ФУНКЦИИ         " << endl;
    cout << "===============================================" << endl;
    
    const int demo_size = 12;
    const int rand_max = 15;
    int* demo_array = new int[demo_size];
    
    // Генерируем ступенчатую последовательность
    stupenchataya(demo_array, demo_size, rand_max);
    
    cout << "Ступенчатая последовательность (целые числа):" << endl;
    cout << "+------------------------------+" << endl;
    for (int i = 0; i < demo_size; i++) {
        cout << "| " << setw(17) << setfill(' ') << demo_array[i] 
             << setw(11) << setfill(' ') << "| n = " << i + 1 << endl;
    }
    cout << "+------------------------------+" << endl;
    
    // Визуализация ступенек
    cout << "\nВизуализация ступенек:" << endl;
    cout << "Высота каждой ступеньки увеличивается:" << endl;
    for (int i = 0; i < demo_size; i++) {
        cout << "Ступень " << (i + 1) << ": ";
        int height = demo_array[i] / 5; // Масштабируем для визуализации
        for (int j = 0; j < height && j < 20; j++) {
            cout << "█";
        }
        cout << " (" << demo_array[i] << ")" << endl;
    }
    
    delete[] demo_array;
    
    // Демонстрация для чисел с плавающей точкой
    double* demo_array_double = new double[demo_size];
    stupenchataya(demo_array_double, demo_size, rand_max);
    
    cout << "\nСтупенчатая последовательность (с плавающей точкой):" << endl;
    cout << "+------------------------------+" << endl;
    for (int i = 0; i < demo_size; i++) {
        cout << "| " << setw(17) << setfill(' ') << demo_array_double[i] 
             << setw(11) << setfill(' ') << "| n = " << i + 1 << endl;
    }
    cout << "+------------------------------+" << endl;
    
    // Визуализация ступенек для double
    cout << "\nВизуализация ступенек (с плавающей точкой):" << endl;
    for (int i = 0; i < demo_size; i++) {
        cout << "Ступень " << (i + 1) << ": ";
        int height = (int)(demo_array_double[i] / 3); // Масштабируем для визуализации
        for (int j = 0; j < height && j < 25; j++) {
            cout << "█";
        }
        cout << " (" << demo_array_double[i] << ")" << endl;
    }

    // ⭐⭐⭐ ДОБАВЛЕНО PERSON1 - ЦИКЛ WHILE ⭐⭐⭐
    cout << "\nДополнительная обработка (person1 - while цикл):" << endl;
    int i = 0;
    while (i < demo_size) {
        if (demo_array[i] % 2 == 0) {
            cout << "Четное число: " << demo_array[i] << " на позиции " << i << endl;
        }
        i++;
    }
    
    delete[] demo_array_double;
    
    cout << "\nНажмите Enter для продолжения...";
    cin.ignore();
    cin.get();
    system("clear");
}

/**************************************************************/
/*            ОСНОВНАЯ ФУНКЦИЯ ПРОГРАММЫ                      */
/**************************************************************/

int main()
{
    // system("color F0");                         // Установка цвета фона (Windows only)
    setlocale(LC_ALL, "Rus");                   // Установка русской локали
    // system("cls");                              // Очистка экрана (Windows only)
    system("clear");                            // Очистка экрана (Unix/macOS)

    int number = 0;                             // Количество элементов последовательности
    const int rand_max = 15;                    // Максимальное значение для генерации
    int* pznachenue = NULL;                     // Указатель на динамический массив целых чисел
    double* pznacheniedoub = NULL;              // Указатель на динамический массив чисел с плавающей точкой
    
    // Демонстрация ступенчатой функции с визуализацией
    cout << "===============================================" << endl;
    cout << "    ДЕМОНСТРАЦИЯ СТУПЕНЧАТОЙ ФУНКЦИИ         " << endl;
    cout << "===============================================" << endl;
    cout << "Ступенчатая функция создает последовательность" << endl;
    cout << "где значения группируются в 'ступеньки' с" << endl;
    cout << "постепенно увеличивающейся высотой." << endl;
    cout << "===============================================" << endl;
    cout << "Нажмите Enter для демонстрации...";
    cin.ignore();
    cin.get();
    system("clear");
    
    // Автоматическая демонстрация ступенчатой функции
    demo_stupenchataya();
    
    // Работа с различными типами последовательностей включая новую экспоненциальную
    pechat_int_mass(pznachenue, number, rand_max);       // Работа с массивом целых чисел
    system("clear");                                       // Очистка экрана перед работой с числами с плавающей точкой
    pechat_doub_mass(pznacheniedoub, number, rand_max);  // Работа с массивом чисел с плавающей точкой
    
    return 0;                                            // Завершение программы
}

/*
 * Модификация от person1 в ветке test
 * Дата: 2025-09-24
 */
